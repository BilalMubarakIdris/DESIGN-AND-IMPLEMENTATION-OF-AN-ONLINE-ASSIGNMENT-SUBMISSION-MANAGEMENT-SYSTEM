<div class="container mt-5">
  <div class="card shadow-lg border-0">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0">Admin Dashboard â€“ All Submissions</h3>
    </div>

    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-bordered table-hover align-middle">
          <thead class="table-dark">
            <tr>
              <th>Student</th>
              <th>Title</th>
              <th>Submitted</th>
              <th>Graded</th>
              <th>Action</th>
            </tr>
          </thead>

          <tbody>
            <% submissions.forEach(s => { %>
            <tr>
              <td>
                <strong><%= s.student.name %></strong><br />
                <small class="text-muted"><%= s.student.regNo %></small>
              </td>

              <td><%= s.title %></td>

              <td><%= s.submittedAt.toLocaleString() %></td>

              <td>
                <% if (s.graded) { %>
                <span class="badge bg-success">Yes (<%= s.grade %>)</span>
                <% } else { %>
                <span class="badge bg-danger">No</span>
                <% } %>
              </td>

              <td>
                <a
                  href="/admin/submissions/<%= s._id %>"
                  class="btn btn-sm btn-primary"
                >
                  View
                </a>
              </td>
            </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
